// Use DBML to define your database structure
// Docs: https://dbml.dbdiagram.io/docs

Table Slot {
    id integer [primary key]
    name text
    type_id integer
    pos_id integer
    parkinglot_id integer
}
Ref: Slot.pos_id > SlotPos.id
Ref: Slot.type_id > Slot_Type.id
Ref: Slot.parkinglot_id > ParkingLot.id

Table Booking {
  id INTEGER [primary key]
  type_id integer
  status_id integer
  slot_id integer
  user_id integer
  start_time datetime
  end_time datetime
}
Ref: Booking.slot_id > Slot.id
Ref: Booking.user_id > User.id
Ref: Booking.status_id > Status.id
Ref: Booking.type_id > Booking_Type.id

Table User {
    id integer [primary key]
    name text
    email text UNIQUE
    telephone text
    password text
    role_id integer
    avatar_url: text
}
Ref: User.role_id > Role.id

Table Vehicle {
    id integer [primary key]
    vehicle_type_id integer
    user_id integer
    licence_plate text
}
Ref: Vehicle.user_id > User.id
Ref: Vehicle.vehicle_type_id > Vehicle_Type.id

Table ParkingLot {
    id integer [primary key]
    name text
    owner_id integer
    map_path text
}
Ref: ParkingLot.owner_id > Owner.id

Table Owner {
    id integer [primary key]
    name text
}

Table Allowed_user {
    parkinglot_id integer [primary key]
    user_id integer [primary key]
}
Ref: Allowed_user.user_id > User.id
Ref: Allowed_user.parkinglot_id > ParkingLot.id

Table Booking_Type {
  id integer [primary key]
  type text
}

Table Vehicle_Type {
  id integer [primary key]
  type text
}

Table Status {
  id integer [primary key]
  name text
}

Table Role {
  id integer [primary key]
  name text
}

Table Slot_Type {
  id integer [primary key]
  name text
}

Table SlotPos {
  id integer [primary key]
  x integer
  y integer
  width integer
  height integer
  rotation integer
}







